{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\djofr\\\\OneDrive\\\\Bureau\\\\Nouveau dossier (6)\\\\e-commerce-store\\\\e-comerce-frontend\\\\src\\\\screens\\\\CartScreen.js\",\n  _s = $RefreshSig$();\nimport './CartScreen.css';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\n\n// Components\nimport CartItem from '../components/CartItem';\n\n// Actions\nimport { addToCart, removeFromCart } from '../redux/actions/cartActions';\nimport useLogin from '../utils/hooks/useLogin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartScreen = () => {\n  _s();\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const {\n    loginInfo\n  } = useLogin();\n  const {\n    cartItems\n  } = cart;\n  const qtyChangeHandler = (id, qty) => {\n    dispatch(addToCart(id, qty));\n  };\n  const removeFromCartHandler = item => {\n    dispatch(removeFromCart({\n      pId: item.product,\n      _id: item._id\n    }));\n  };\n  const getCartCount = () => {\n    return cartItems.reduce((qty, item) => Number(item.qty) + qty, 0);\n  };\n  const getCartSubTotal = () => {\n    return cartItems.reduce((price, item) => price + item.price * item.qty, 0).toFixed(2);\n  };\n  if (loginInfo.loading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Loading.....\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 33\n  }, this);else if (!loginInfo.loading && loginInfo.isLogin) return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartscreen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartscreen__left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your Cart Is Empty \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this) : cartItems.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n          item: item,\n          qtyChangeHandler: qtyChangeHandler,\n          removeHandler: () => removeFromCartHandler(item)\n        }, item.product, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cartscreen__right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartscreen__info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Subtotal (\", getCartCount(), \") items\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", getCartSubTotal()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Proceed To Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(CartScreen, \"1LscrqsjBpvd4IcOAGDAzVcKxCc=\", false, function () {\n  return [useDispatch, useSelector, useLogin];\n});\n_c = CartScreen;\nexport default CartScreen;\nvar _c;\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"names":["useEffect","useSelector","useDispatch","Link","useHistory","CartItem","addToCart","removeFromCart","useLogin","CartScreen","dispatch","cart","state","loginInfo","cartItems","qtyChangeHandler","id","qty","removeFromCartHandler","item","pId","product","_id","getCartCount","reduce","Number","getCartSubTotal","price","toFixed","loading","isLogin","length","map"],"sources":["C:/Users/djofr/OneDrive/Bureau/Nouveau dossier (6)/e-commerce-store/e-comerce-frontend/src/screens/CartScreen.js"],"sourcesContent":["import './CartScreen.css'\r\nimport {useEffect} from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {Link, useHistory} from 'react-router-dom'\r\n\r\n// Components\r\nimport CartItem from '../components/CartItem'\r\n\r\n// Actions\r\nimport {addToCart, removeFromCart} from '../redux/actions/cartActions'\r\nimport useLogin from '../utils/hooks/useLogin'\r\n\r\nconst CartScreen = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const cart = useSelector(state => state.cart)\r\n\r\n  const {loginInfo} = useLogin()\r\n\r\n  const {cartItems} = cart\r\n\r\n  const qtyChangeHandler = (id, qty) => {\r\n    dispatch(addToCart(id, qty))\r\n  }\r\n\r\n  const removeFromCartHandler = item => {\r\n    dispatch(removeFromCart({pId: item.product, _id: item._id}))\r\n  }\r\n\r\n  const getCartCount = () => {\r\n    return cartItems.reduce((qty, item) => Number(item.qty) + qty, 0)\r\n  }\r\n\r\n  const getCartSubTotal = () => {\r\n    return cartItems\r\n      .reduce((price, item) => price + item.price * item.qty, 0)\r\n      .toFixed(2)\r\n  }\r\n\r\n  if (loginInfo.loading) return <h1>Loading.....</h1>\r\n  else if (!loginInfo.loading && loginInfo.isLogin)\r\n    return (\r\n      <>\r\n        <div className=\"cartscreen\">\r\n          <div className=\"cartscreen__left\">\r\n            <h2>Shopping Cart</h2>\r\n\r\n            {cartItems.length === 0 ? (\r\n              <div>\r\n                Your Cart Is Empty <Link to=\"/\">Go Back</Link>\r\n              </div>\r\n            ) : (\r\n              cartItems.map(item => (\r\n                <CartItem\r\n                  key={item.product}\r\n                  item={item}\r\n                  qtyChangeHandler={qtyChangeHandler}\r\n                  removeHandler={() => removeFromCartHandler(item)}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"cartscreen__right\">\r\n            <div className=\"cartscreen__info\">\r\n              <p>Subtotal ({getCartCount()}) items</p>\r\n              <p>${getCartSubTotal()}</p>\r\n            </div>\r\n            <div>\r\n              <button>Proceed To Checkout</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default CartScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}